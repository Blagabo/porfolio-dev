---
import { Icon } from "astro-icon/components"
import { experienceContent } from "../data/site"
---

<section id="experience" class="bg-bg border-border-primary border-t py-16" data-animate>
	<div class="mx-auto max-w-7xl space-y-10 px-4 sm:px-6 lg:px-8">
		<div class="mx-auto max-w-3xl text-center">
			<h2 class="section-heading">Experience</h2>
			<p class="text-text-secondary text-lg">{experienceContent.intro}</p>
		</div>
		<div class="relative space-y-10">
			<div
				class="from-primary/20 via-primary/60 to-primary/20 absolute bottom-0 left-1/2 top-0 hidden w-px -translate-x-1/2 bg-gradient-to-b md:block"
			>
			</div>
			{
				experienceContent.positions.map((position, _index) => (
					<article class="relative items-start gap-10 md:flex" data-animate>
						<div class="px-4 md:w-1/2 md:text-right">
							<div class="company-card bg-bg dark:bg-bg border-border-primary card-hover rounded-2xl border p-6">
								<h3 class="font-heading text-text-primary text-xl font-bold">{position.company}</h3>
								<p class="text-text-primary font-semibold">{position.role}</p>
								<div class="mt-3 flex flex-wrap justify-end gap-2 text-xs">
									{position.industry && (
										<span class="bg-third-darker inline-flex items-center gap-1 rounded-full px-3 py-1 text-white">
											<Icon name="fa6-solid:industry" />
											{position.industry}
										</span>
									)}
									{position.location && (
										<span class="bg-primary inline-flex items-center gap-1 rounded-full px-3 py-1 text-white">
											<Icon name="fa6-solid:location-dot" />
											{position.location}
										</span>
									)}
								</div>
								<p class="text-text-secondary mt-4 text-sm italic">{position.description}</p>
							</div>
						</div>
						<div class="bg-primary border-bg absolute left-1/2 top-10 hidden h-4 w-4 -translate-x-1/2 rounded-full border-4 shadow-lg md:block" />
						<div class="mt-6 px-4 md:mt-0 md:w-1/2">
							<div class="from-bg-secondary to-bg-tertiary border-border-primary card-hover rounded-2xl border bg-gradient-to-br p-6">
								<span class="bg-gradient-primary mb-4 inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium text-white shadow">
									<Icon name="fa6-solid:calendar" />
									{position.period}
								</span>
								<h4 class="text-text-primary mb-3 flex items-center gap-2 text-lg font-semibold">
									<Icon name="fa6-solid:shield-halved" class="text-third" />
									Key achievements
								</h4>
								<ul class="text-text-secondary space-y-3">
									{position.highlights.map((item) => (
										<li class="flex items-start gap-3">
											<Icon name="fa6-solid:circle-check" class="text-second mt-1" />
											<span>{item}</span>
										</li>
									))}
								</ul>
							</div>
						</div>
					</article>
				))
			}
		</div>
	</div>
</section>
